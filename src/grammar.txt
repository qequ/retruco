programa ::=  <declaraciones> ; nl* <proceso>
<proceso> ::= DEFINICION DE PROGRAMA nl+ <sentencias>
<sentencias> := <sentencia> | <sentencia> nl+ <sentencias>
<sentencia> := <operativa> | <de control>
<operativa> := <tomar> DE <pila> <nombre> | <depositar> EN <pila> <nombre> | <invertir>
<tomar> := TOME UNA CARTA | TOME UNA | TOME
<depositar> := DEPOSITE LA CARTA | DEPOSITELA
<invertir> := INVIERTA LA CARTA | INVIERTALA
<de control> := <de seleccion> | <iterativa>
<de seleccion> := SI <condicion> <sentencias> SINO <sentencias> NADA MAS | SI <condicion> <sentencias> SINO NADA MAS
<iterativas> := MIENTRAS <condicion> <sentencias> REPITA
<condicion> := <condicion simple> | <condicion simple> Y <condicion> | <condicion simple> O <condicion>
<condicion simple> := <condicion de pila vacia> | <condiciones de carta>
<condicion de pila vacia> := <pila> <nombre> ESTA VACIA | <pila> <nombre> NO ESTA VACIA
<condicion de carta> := <estado> | <caracteristica>
<estado> := <carta> ESTA BOCA ABAJO | <carta> NO ESTA BOCA ABAJO
<caracteristica> := <carta> <es o no es> <de palos> | <carta> <es o no es> <valor> | <carta> ES DE <relac> PALO QUE TOPE DE <pila> <nombre>
<es o no es> := ES | NO ES
<carta> := LA CARTA | CARTA
<pila> := LA PILA | PILA
<de palos> := DEL PALO <palos> | <palos>
<palos> := OROS | BASTOS | ESPADAS | COPAS
<relac> := IGUAL | DISTINTO
<valor> := DE <rela> VALOR QUE TOPE DE <pila> <nombre> | DE VALOR <relacion> <numero> | <relacion> <numero>
<rela> := IGUAL | DISTINTO | MAYOR | MENOR | MAYOR O IGUAL | MENOR O IGUAL
<relacion> := IGUAL A | DISTINTO DE | MAYOR QUE | MENOR QUE | MAYOR O IGUAL A | MENOR O IGUAL A
<numero> := 1 | 2 | 3 | 4 | 5 | 6 | 7 | 10 | 11 | 12
<declaraciones> := UCP EJECUTE CON LAS SIGUIENTES CARTAS nl <lista de pilas>
<lista de pilas> := <descripcion de pila> | <descripcion de pila> , nl* <lista de pilas>
<descripcion de pila> := <pila> <nombre> <contenido>
<contenido> := NO TIENE CARTAS | TIENE <lista de cartas>
<lista de cartas> := <descripcion de carta> | <descripcion de carta> - nl* <lista de cartas>
<descripcion de carta> := <numero> DE <palos> <posicion>
<posicion> := BOCA ARRIBA | BOCA ABAJO
<nombre> := str alfanumérico que no comienza con número ni contiene símbolos especiales, palabras reservadas
<nl> := "\n"
